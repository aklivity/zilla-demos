---
name: zilla-mqtt-kafka-broker
catalogs:
  host_filesystem:
    type: filesystem
    options:
      subjects:
        streampay_http:
          path: asyncapi/asyncapi-http.yaml
        streampay_kafka:
          path: asyncapi/asyncapi-kafka.yaml
bindings:
  http_asyncpi_server:
    type: asyncapi
    kind: server
    options:
      specs:
        my-asyncapi-spec:
          catalog:
            host_filesystem:
              subject: streampay_http
              version: latest
    exit: kafka_asyncpi_server
  kafka_asyncpi_server:
    type: asyncapi
    kind: client
    options:
      specs:
        my-asyncapi-spec:
          catalog:
            host_filesystem:
              subject: streampay_kafka
              version: latest
telemetry:
  exporters:
    stdout_logs_exporter:
      type: stdout